{% extends 'admin/base.html' %}

{% block head %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/css/jquery.fancybox.min.css" type="text/css" media="screen" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='build/admin.min.css') }}">
    <script type="text/javascript">
        var url = {
            update: '{{ url_for("tree.update") }}',
            create: '{{ url_for("tree.create") }}',
            delete: '{{ url_for("tree.delete") }}',
            rename: '{{ url_for("tree.rename") }}',
            move: '{{ url_for("tree.move") }}',
            copy: '{{ url_for("tree.copy") }}',
            getView: '{{ url_for("tree.getview") }}',
            treeUpdate: '{{ url_for("tree.update") }}',
            treeStatus: '{{ url_for("tree.status") }}',
            treeJoin: '{{ url_for("tree.join") }}',
            treeCreate: '{{ url_for("tree.create") }}',
            treeDelete: '{{ url_for("tree.delete") }}',
            treeRename: '{{ url_for("tree.rename") }}',
            treeMove: '{{ url_for("tree.move") }}',
            treeMoveToLocation: '{{ url_for("tree.move_to_location") }}',
            treeCopy: '{{ url_for("tree.copy") }}',
            treeGetView: '{{ url_for("tree.getview")}}',
            graph: '{{ url_for("tree.graph")}}',
            graph_details: '{{ url_for("tree.graph_search")}}',
            info: '{{ url_for("tree.item_details", id=":id")}}'
        };
        var equipTypeToUrl = {{ _(equipTypeToUrl) }};
        var treeStruct = {{ _(tree) or '[]' }};
        var switchIds = {{ _(switchIds) or '[]' }};
{#</div>#}
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-shim.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/json3/3.3.2/json3.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.34.2/es6-sham.min.js"></script> 
    <script src="https://wzrd.in/standalone/es7-shim@latest"></script>
{% endblock head %}

{% block main_menu %}
	<div id="navbar" class="navbar-collapse collapse in">
        {{ super() }}
        {% if current_user.is_authenticated() %}
            <ul class="nav navbar-nav pull-right">
                <li class="dropdown">
                    <a class="dropdown-toggle" aria-expanded="false" aria-haspopup="true" role="button" data-toggle="dropdown" href="#">
                        <i class="fa fa-user fa-large" ></i>
                        {{ current_user.login }}
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li>
                            <a href="{{ url_for('admin.logout_view') }}">Log out</a>
                        </li>
                    </ul>
                </li>
            </ul>
        {% endif %}
    </div>
{% endblock main_menu %}

{% block tail %}
    <script src="{{ url_for('static', filename='js/jstree.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/selectize.min.js') }}"></script>
{#    <script src="{{ url_for('static', filename='src/diagnostic/Tree.js') }}"></script>#}
    <script>
        var WebFontConfig = {
          google: { families: [ 'Roboto:400,300,500:latin' ] }
        };
        (function() {
          var wf = document.createElement('script');
          wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
          wf.type = 'text/javascript';
          wf.async = 'true';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(wf, s);
        })();
    </script>
  {% if user_is_admin or user_is_group_admin or user_is_group_user %}
    <script src="{{ url_for('static', filename='build/app.js') }}"></script>
  {% else %}
    <script src="{{ url_for('static', filename='build/performer.js') }}"></script>
  {% endif %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js"></script>
{% endblock tail %}

